<!--
This file is used by GitHub Pages to redirect users to the correct URL
when they try to access a page that does not exist.
It converts the path and query string into a query string and hash fragment
so that the single page app can handle the routing correctly.

If we stop using GitHub Pages for hosting, this file can be removed.
Consider using Vercel or Netlify for hosting instead.
-->
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Redirecting...</title>
    <script type="text/javascript">
      // Single Page Apps for GitHub Pages
      // MIT License
      // https://github.com/rafgraph/spa-github-pages
      // This script takes the current url and converts the path and query
      // string into just a query string, and then redirects the browser
      // to the new url with only a query string and hash fragment,
      // e.g. https://www.foo.tld/one/two?a=b&c=d#qwe, becomes
      // https://www.foo.tld/?/one/two&a=b~and~c=d#qwe
      // Note: this 404.html file must be at least 512 bytes for it to work
      // with Internet Explorer (it is currently > 512 bytes)

      // For custom domains like jibram.net, your site is at the root,
      // so pathSegmentsToKeep should be 0.
      // If it were a project page like username.github.io/my-repo/,
      // then pathSegmentsToKeep would be 1.
      var pathSegmentsToKeep = 0; // For jibram.net (custom domain at root)

      var l = window.location;
      l.replace(
        l.protocol +
          '//' +
          l.hostname +
          (l.port ? ':' + l.port : '') +
          l.pathname
            .split('/')
            .slice(0, 1 + pathSegmentsToKeep)
            .join('/') +
          '/?/' +
          l.pathname
            .slice(1)
            .split('/')
            .slice(pathSegmentsToKeep)
            .join('/')
            .replace(/&/g, '~and~') +
          (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
          l.hash
      );
    </script>
  </head>
  <body></body>
</html>
